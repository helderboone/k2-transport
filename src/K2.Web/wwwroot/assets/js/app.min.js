class Feedback{constructor(n,t,i,r,u){this.tipo=n;this.titulo=t;this.mensagem=i;this.mensagemAdicional=r;this.tipoAcao=u}}const TipoFeedback={SUCESSO:{icone:"fa fa-check-circle",titulo:"Sucesso",corJqConfirm:"green",bootstrapTipo:"success"},ATENCAO:{icone:"fa fa-exclamation-triangle",titulo:"Atenção",corJqConfirm:"orange",bootstrapTipo:"warning"},INFO:{icone:"fa fa-info-circle",titulo:"Info",corJqConfirm:"blue",bootstrapTipo:"info"},ERRO:{icone:"fa fa-skull",titulo:"Erro",corJqConfirm:"red",bootstrapTipo:"danger"}};var App=function(){var t=[],i=[],n=function(n){return"/inspecao/"+n};return{corrigirPathRota:function(t){return n(t)},bloquear:function(n){n!=null?mApp.block(n,{overlayColor:"#000000",type:"loader",state:"info",message:"Processando..."}):mApp.blockPage({overlayColor:"#000000",type:"loader",state:"info",message:"Processando...",baseZ:999999})},desbloquear:function(n){n!=null?mApp.unblock(n):mApp.unblockPage()},aplicarMascaraCnpj:function(n){$(n).mask("99.999.999/9999-99")},aplicarMascaraData:function(n){$(n).mask("99/99/9999")},exibirNotificacao:function(n,t,i){$.notify({icon:"icon "+n.icone,title:n.titulo,message:t},{type:n.bootstrapTipo,z_index:9999999999,timer:n===TipoFeedback.ERRO?12e3:5e3,mouse_over:"pause",placement:{from:"top",align:"center"},onClosed:i!=null?function(){i()}:null})},exibirNotificacaoPorFeedback:function(t,i){switch(t.Tipo){case 1:tipo=TipoFeedback.INFO;break;case 2:tipo=TipoFeedback.ATENCAO;break;case 3:tipo=TipoFeedback.ERRO;break;default:tipo=TipoFeedback.INFO}this.exibirNotificacao(tipo,t.Mensagem,t.Titulo,function(){if(i!=null)i();else if(t.TipoAcao!=null)switch(t.TipoAcao){case 1:window.history.back();break;case 2:window.close();break;case 3:location.href=n("inicio");break;case 4:location.reload()}})},exibirNotificacaoPorJqXHR:function(n,t){if(n.responseJSON!=null){var i=n.responseJSON;i.Tipo==null?this.exibirNotificacao(TipoFeedback.ERRO,n.status+" - "+n.statusText,"Erro"):this.exibirNotificacaoPorMensagem(i,t)}else this.exibirNotificacao(TipoFeedback.ERRO,n.status+" - "+n.statusText,"Erro")},exibirAlert:function(n,t,i,r){if(!n)throw new Error('O parâmetro "tipo" não pode ser nulo.');let u='<div style="margin:5px;"><p style="font-weight: 500;">'+t+"<\/p>"+i+"<\/div>",f=$.alert({icon:n.icone,theme:"supervan",closeIcon:!1,animation:"scale",type:n.corJqConfirm,title:n.titulo,content:u,onOpen:function(){f.setDialogCenter()},onClose:function(){r!="undefined"&&r!=null&&r()}})},exibirModalPorHtml:function(n,r,u,f){var e=$.dialog({content:n,title:null,closeIcon:!1,backgroundDismiss:u==null?!1:u,columnClass:"col-xs-10 col-xs-1 col-md-6 col-md-offset-3 col-lg-6 col-lg-offset-3",onOpen:function(){this.$content.find(".btn-fechar").click(function(){e.close()});r!=null&&r();e.setDialogCenter()}});return f!=null&&f?i.push(e):t.push(e),e},exibirModalPorRota:function(n,t,i,r,u){$.get(n,function(n){App.exibirModalPorHtml(n,t,!1,i,r,u)}).fail(function(n){App.exibirModalPorJqXHR(n)})},exibirModalPorFeedback:function(t,i){this.exibirAlert(t.tipo,t.mensagem,t.titulo,t.mensagemAdicional,function(){if(i!=null)i();else if(t.tipoAcao!=null)switch(t.tipoAcao){case 1:window.history.back();break;case 2:window.close();break;case 3:location.href=n("inicio");break;case 4:location.reload();break;case 5:App.ocultarModal();break;case 6:location.href=n("login")}})},exibirModalPorJqXHR:function(t,i){if(t.responseJSON!=null){var r=t.responseJSON;r.Tipo==null?this.exibirModal(TipoFeedback.ERRO,t.status+" - "+t.statusText,"Erro"):this.exibirModalPorMensagem(r,i)}else t.readyState===0?this.exibirModal(TipoFeedback.ERRO,"Ocorreu um erro de comunicação. Por favor certifique-se de que você esteja conectado a internet.","Erro de conexão",null,function(){App.ocultarModal()}):t.readyState===4&&t.status===401?this.exibirModal(TipoFeedback.ATENCAO,"Sua sessão expirou. Você precisa fazer seu login novamente.","Login expirado",'Ao clicar no botão "FECHAR" você será redirecionado para a tela de login.',function(){App.ocultarModal();location.href=n("login")}):this.exibirModal(TipoFeedback.ERRO,t.status+" - "+t.statusText,"Erro")},exibirConfirm:function(n,t,i,r,u){let f=$.confirm({title:"Atenção",content:n,theme:"supervan",icon:"fa fa-question-circle",type:"orange",buttons:{confirm:{text:t!=null?t:"Sim",action:function(){r!=null&&(r(),f.close())}},cancel:{text:i!=null?i:"Não",action:function(){u!=null?(u(),f.close()):f.close()}}}})},ocultarModal:function(n){$.each(t,function(n,t){t.close()});n!=null&&n&&$.each(i,function(n,t){t.close()})},ocultarModalPorTitulo:function(n){$.each(t,function(t,i){if(i.title===n){i.close();return}});$.each(i,function(t,i){if(i.title===n){i.close();return}})},abrirPopup:function(n,t,i,r,u){$.popupWindow(n,{width:i,height:t,name:r,createNew:u==null?!1:u})},definirValidacaoForm:function(n,t){$(n).validate({errorPlacement:function(n,t){var i,r,u,f;$(t).parent("div").addClass("has-error");i=$(t).parent("div").find(".help-block");i.length&&$(i).html(n);r=$(t).parents("div.input-group");r.length&&(u=r.find("label.label-select"),u.length&&u.addClass("has-error"));f=$(t).parent("div").find(".dropdown-toggle");f.length&&$(f).addClass("has-error")},submitHandler:function(){return t!=null&&t(),!1}})}}}();jQuery().dataTable&&$.extend($.fn.dataTable.defaults,{processing:!1,responsive:!1,autoWidth:!0,lengthMenu:[[10,25,50],[10,25,50]],pagingType:"full_numbers",language:{sLengthMenu:"_MENU_ registros por p&aacute;gina",sProcessing:'<i class="fa fa-spinner fa-pulse"><\/i> Carregando',infoEmpty:"Nenhum registro encontrado.",info:"_END_ de _TOTAL_ registros",paginate:{first:"Primeiro",next:"Pr&oacute;ximo",previous:"Anterior",last:"Último",zeroRecords:"Nenhum registro encontrado."},infoFiltered:"(filtrado a partir do total de _MAX_ registros)",emptyTable:"Nenhum registro encontrado.",zeroRecords:"Nenhum registro encontrado."}});