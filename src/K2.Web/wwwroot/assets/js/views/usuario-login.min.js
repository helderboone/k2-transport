var SnippetLogin=function(){var n=$("#m_login"),i=function(n,t,i){var r=$('<div class="m-alert m-alert--outline alert alert-'+t+' alert-dismissible" role="alert">\t\t\t<button type="button" class="close" data-dismiss="alert" aria-label="Close"><\/button>\t\t\t<span><\/span>\t\t<\/div>');n.find(".alert").remove();r.prependTo(n);mUtil.animateClass(r[0],"fadeIn animated");r.find("span").html(i)},r=function(){n.removeClass("m-login--forget-password");n.removeClass("m-login--signin");n.addClass("m-login--signup");mUtil.animateClass(n.find(".m-login__signup")[0],"flipInX animated")},t=function(){n.removeClass("m-login--forget-password");n.removeClass("m-login--signup");n.addClass("m-login--signin");mUtil.animateClass(n.find(".m-login__signin")[0],"flipInX animated")},u=function(){n.removeClass("m-login--signin");n.removeClass("m-login--signup");n.addClass("m-login--forget-password");mUtil.animateClass(n.find(".m-login__forget-password")[0],"flipInX animated")},f=function(){$("#m_login_forget_password").click(function(n){n.preventDefault();u()});$("#m_login_forget_password_cancel").click(function(n){n.preventDefault();t()});$("#m_login_signup").click(function(n){n.preventDefault();r()});$("#m_login_signup_cancel").click(function(n){n.preventDefault();t()})},e=function(){$("#m_login_signin_submit").click(function(n){n.preventDefault();var i=$(this),t=$(this).closest("form");(t.validate({rules:{email:{required:!0,email:!0},password:{required:!0}}}),t.valid())&&(i.addClass("m-loader m-loader--right m-loader--light").attr("disabled",!0),t.ajaxSubmit({url:"",success:function(){App.bloquear();setTimeout(function(){$.post(App.corrigirPathRota("login"),{email:$("#email").val(),senha:$("#password").val(),permanecerLogado:$("#remember").prop("checked")},function(n){n.Tipo==TipoFeedback.ATENCAO}).fail(function(n){var t=new Feedback(n.responseJSON.Tipo,n.responseJSON.Mensagem,n.responseJSON.MensagemAdicional,n.responseJSON.TipoAcao);App.exibirModalPorFeedback(t)}).always(function(){App.desbloquear();i.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1)})},2e3)}}))})},o=function(){$("#m_login_signup_submit").click(function(r){r.preventDefault();var f=$(this),u=$(this).closest("form");(u.validate({rules:{fullname:{required:!0},email:{required:!0,email:!0},password:{required:!0},rpassword:{required:!0},agree:{required:!0}}}),u.valid())&&(f.addClass("m-loader m-loader--right m-loader--light").attr("disabled",!0),u.ajaxSubmit({url:"",success:function(){setTimeout(function(){f.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1);u.clearForm();u.validate().resetForm();t();var r=n.find(".m-login__signin form");r.clearForm();r.validate().resetForm();i(r,"success","Thank you. To complete your registration please check your email.")},2e3)}}))})},s=function(){$("#m_login_forget_password_submit").click(function(r){r.preventDefault();var f=$(this),u=$(this).closest("form");(u.validate({rules:{email:{required:!0,email:!0}}}),u.valid())&&(f.addClass("m-loader m-loader--right m-loader--light").attr("disabled",!0),u.ajaxSubmit({url:"",success:function(){setTimeout(function(){f.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1);u.clearForm();u.validate().resetForm();t();var r=n.find(".m-login__signin form");r.clearForm();r.validate().resetForm();i(r,"success","Cool! Password recovery instruction has been sent to your email.")},2e3)}}))})};return{init:function(){f();e();o();s()}}}();jQuery(document).ready(function(){SnippetLogin.init()});