var SnippetLogin=function(){var n=$("#m_login"),t=function(){n.removeClass("m-login--forget-password");n.addClass("m-login--signin");mUtil.animateClass(n.find(".m-login__signin")[0],"flipInX animated")},i=function(){n.removeClass("m-login--signin");n.addClass("m-login--forget-password");mUtil.animateClass(n.find(".m-login__forget-password")[0],"flipInX animated")},r=function(){$("#m_login_forget_password").click(function(n){n.preventDefault();i()});$("#m_login_forget_password_cancel").click(function(n){n.preventDefault();t()})},u=function(){$("#m_login_signin_submit").click(function(n){n.preventDefault();var i=$(this),t=$(this).closest("form");(t.validate({rules:{email:{required:!0,email:!0},password:{required:!0}}}),t.valid())&&(i.addClass("m-loader m-loader--right m-loader--light").attr("disabled",!0),t.ajaxSubmit({url:"",success:function(){$.post(App.corrigirPathRota("autenticar"),{email:$("#email").val(),senha:$("#password").val(),permanecerLogado:$("#remember").prop("checked")},function(n){var t=Feedback.converter(n);t.Tipo.Nome==Tipo.Sucesso?location.href=App.corrigirPathRota("inicio"):Feedback.exibirModal(t)}).fail(function(n){Feedback.exibirModalPorViewModel(n)}).always(function(){i.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1)})}}))})},f=function(){$("#m_login_forget_password_submit").click(function(i){i.preventDefault();var u=$(this),r=$(this).closest("form");(r.validate({rules:{email:{required:!0,email:!0}}}),r.valid())&&(u.addClass("m-loader m-loader--right m-loader--light").attr("disabled",!0),r.ajaxSubmit({url:"",success:function(){setTimeout(function(){u.removeClass("m-loader m-loader--right m-loader--light").attr("disabled",!1);r.clearForm();r.validate().resetForm();t();var i=n.find(".m-login__signin form");i.clearForm();i.validate().resetForm();showErrorMsg(i,"success","Cool! Password recovery instruction has been sent to your email.")},2e3)}}))})};return{init:function(){r();u();f()}}}();jQuery(document).ready(function(){SnippetLogin.init()});