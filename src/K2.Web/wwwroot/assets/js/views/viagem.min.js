var Viagem=function(){var f=function(){App.bloquear();var i=$("#tblViagensPrevistas").DataTable({ajax:{url:App.corrigirPathRota("listar-viagens-previstas"),type:"POST",error:function(n){var t=Feedback.converter(n.responseJSON);t.exibirModal()}},columns:[{data:null,title:"Descrição",className:"all",orderable:!1,render:function(n){return'<span class="m--font-boldest">'+n.descricao+"<\/span><br/>Motorista: "+n.motorista.nome+"<br/>Carro: "+n.carro.descricao+"<br/>"}},{data:null,title:"Saída em",render:function(n){return'<span class="m--font-boldest m--font-brand m--font-transform-u">'+n.diaSemanaSaida+"<\/span><br/>"+n.dataHorarioSaidaToString+'<br/><span class="m--font-bolder"> '+(n.quantidadeDiasSaida===0?"Em poucas horas":n.quantidadeDiasSaida===1?"Falta 1 dia":"Faltam "+n.quantidadeDiasSaida+" dias.")+"<\/span>"}},{data:"localidadeEmbarque.nome",title:"Embarque",orderable:!1},{data:"localidadeDesembarque.nome",title:"Desembarque",orderable:!1},{data:null,title:"Reservas",orderable:!1,className:"dt-center",width:"1px",render:function(n){return'<span class="m--font-boldest m--font-brand" style="font-size: 1.45rem;">'+n.reservas.length+"<\/span>"}},{data:null,title:"Lugares disponíveis",orderable:!1,className:"dt-center",width:"1px",render:function(n){return'<span class="m--font-boldest '+(n.quantidadeLugaresDisponiveis===0?" m--font-danger":" m--font-success")+'" style="font-size: 1.45rem;">'+n.quantidadeLugaresDisponiveis+"<\/span>"}},{data:null,className:"td-actions dt-center all",orderable:!1,width:"1px",render:function(n){return'<div class="m-dropdown m-dropdown--inline" m-dropdown-toggle="click" aria-expanded="true"><a href="#" class="btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill m-dropdown__toggle"><i class="la la-ellipsis-h m--font-brand"><\/i><\/a><div class="m-dropdown__wrapper" style="z-index: 101; top: '+($("#iPerfilUsuarioLogado").val()!=="Administrador"?"-100%":"-466%")+'; right: 33px !important; width:165px;"><div class="m-dropdown__inner"><div class="m-dropdown__body"><div class="m-dropdown__content"><ul class="m-nav"><li class="m-nav__section m-nav__section--first"><span class="m-nav__section-text">Viagem<\/span><\/li><li class="m-nav__item"><a href="#" class="info-viagem-prevista m-nav__link" data-id-viagem="'+n.id+'"><i class="m-nav__link-icon la la-info"><\/i><span class="m-nav__link-text">Informações<\/span><\/a><\/li><li class="m-nav__item" '+($("#iPerfilUsuarioLogado").val()!=="Administrador"?'style="display:none;"':"")+'><a href="#" class="alterar-viagem-prevista m-nav__link" data-id-viagem="'+n.id+'"><i class="m-nav__link-icon la la-edit"><\/i><span class="m-nav__link-text">Alterar<\/span><\/a><\/li><li class="m-nav__item " '+($("#iPerfilUsuarioLogado").val()!=="Administrador"?'style="display:none;"':"")+'><a href="#" class="excluir-viagem-prevista m-nav__link" data-id-viagem="'+n.id+'"><i class="m-nav__link-icon la la-trash"><\/i><span class="m-nav__link-text">Excluir<\/span><\/a><\/li><\/ul><\/div><\/div><\/div><\/div><\/div>'}}],select:{style:"single",info:!1},serverSide:!0,responsive:!0,info:!1,ordering:!1,searching:!1,paging:!1}).on("draw.dt",function(){mApp.initTooltips();let r=i.page.info().recordsTotal;r>0?($("#badgeTotalPrevistas").html(r),$("#badgeTotalPrevistas").show()):$("#badgeTotalPrevistas").hide();$("a[class*='info-viagem-prevista']").each(function(){var t=$(this).data("id-viagem");$(this).click(function(){n(t,!0)})});$("a[class*='alterar-viagem-prevista']").each(function(){var n=$(this).data("id-viagem");$(this).click(function(){t(n)})});$("a[class*='excluir-viagem-prevista']").each(function(){var n=$(this).data("id-viagem");$(this).click(function(){App.exibirConfirm('<span class="m--font-boldest">Deseja realmente excluir essa viagem?<\/span><br/>Ao excluir a viagem, todas as reservas relacionadas também serão excluídas.',"Sim","Não",function(){u(n,!0)})})})}).on("processing.dt",function(){App.bloquear()})},e=function(){App.bloquear();var i=$("#tblViagensRealizadas").DataTable({ajax:{url:App.corrigirPathRota("listar-viagens-realizadas"),type:"POST",error:function(n){var t=Feedback.converter(n.responseJSON);t.exibirModal()},data:function(n){n.DataSaidaInicio=$("#iProcurarDataSaidaInicio").val();n.DataSaidaFim=$("#iProcurarDataSaidaFim").val();n.Descricao=$("#iProcurarDescricao").val();n.IdMotorista=$("#sProcurarMotorista").val();n.IdCarro=$("#sProcurarCarro").val();n.IdLocalidadeEmbarque=$("#sProcurarLocalidadeEmbarque").val();n.IdLocalidadeDesmbarque=$("#sProcurarLocalidadeDesembarque").val();n.ValorPassagem=$("#iProcurarValorPassagem").length?$("#iProcurarValorPassagem").val():null}},columns:[{data:"descricao",title:"Descrição",className:"all",orderable:!1,render:function(n,t,i){return'<span class="m--font-boldest">'+i.descricao+"<\/span><br/>Motorista: "+i.motorista.nome+"<br/>Carro: "+i.carro.descricao+"<br/>"}},{data:"dataHorarioSaida",title:"Saída em",render:function(n,t,i){return'<span class="m--font-boldest m--font-transform-u">'+i.diaSemanaSaida+"<\/span><br/>"+i.dataHorarioSaidaToString}},{data:"localidadeEmbarque.nome",title:"Embarque",orderable:!1},{data:"localidadeDesembarque.nome",title:"Desembarque",orderable:!1},{data:null,title:"Reservas",orderable:!1,className:"dt-center",width:"1px",render:function(n){return'<span class="m--font-boldest m--font-brand" style="font-size: 1.45rem;">'+n.reservas.length+"<\/span>"}},{data:null,title:"Lugares disponíveis",orderable:!1,className:"dt-center",width:"1px",render:function(n){return'<span class="m--font-boldest '+(n.quantidadeLugaresDisponiveis===0?" m--font-danger":" m--font-success")+'" style="font-size: 1.45rem;">'+n.quantidadeLugaresDisponiveis+"<\/span>"}},{data:null,className:"td-actions dt-center all",orderable:!1,width:"1px",render:function(n){return'<div class="m-dropdown m-dropdown--inline" m-dropdown-toggle="click" aria-expanded="true"><a href="#" class="btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill m-dropdown__toggle"><i class="la la-ellipsis-h m--font-brand"><\/i><\/a><div class="m-dropdown__wrapper" style="z-index: 101; top: '+($("#iPerfilUsuarioLogado").val()!=="Administrador"?"-100%":"-466%")+'; right: 33px !important; width:165px;"><div class="m-dropdown__inner"><div class="m-dropdown__body"><div class="m-dropdown__content"><ul class="m-nav"><li class="m-nav__section m-nav__section--first"><span class="m-nav__section-text">Viagem<\/span><\/li><li class="m-nav__item"><a href="#" class="info-viagem-realizada m-nav__link" data-id-viagem="'+n.id+'"><i class="m-nav__link-icon la la-info"><\/i><span class="m-nav__link-text">Informações<\/span><\/a><\/li><li class="m-nav__item" '+($("#iPerfilUsuarioLogado").val()!=="Administrador"?'style="display:none;"':"")+'><a href="#" class="alterar-viagem-realizada m-nav__link" data-id-viagem="'+n.id+'"><i class="m-nav__link-icon la la-edit"><\/i><span class="m-nav__link-text">Alterar<\/span><\/a><\/li><li class="m-nav__item " '+($("#iPerfilUsuarioLogado").val()!=="Administrador"?'style="display:none;"':"")+'><a href="#" class="excluir-viagem-realizada m-nav__link" data-id-viagem="'+n.id+'"><i class="m-nav__link-icon la la-trash"><\/i><span class="m-nav__link-text">Excluir<\/span><\/a><\/li><\/ul><\/div><\/div><\/div><\/div><\/div>'}}],select:{style:"single",info:!1},serverSide:!0,responsive:!0,pagingType:"full_numbers",order:[1,"desc"],searching:!1,paging:!0,lengthChange:!1,pageLength:25}).on("draw.dt",function(){mApp.initTooltips();let r=i.page.info().recordsTotal;r>0?($("#badgeTotalRealizadas").html(r),$("#badgeTotalRealizadas").show()):$("#badgeTotalRealizadas").hide();$("a[class*='info-viagem-realizada']").each(function(){var t=$(this).data("id-viagem");$(this).click(function(){n(t,!1)})});$("a[class*='alterar-viagem-realizada']").each(function(){var n=$(this).data("id-viagem");$(this).click(function(){t(n)})});$("a[class*='excluir-viagem-realizada']").each(function(){var n=$(this).data("id-viagem");$(this).click(function(){App.exibirConfirm('<span class="m--font-boldest">Deseja realmente excluir essa viagem?<\/span><br/>Ao excluir a viagem, todas as reservas relacionadas também serão excluídas.',"Sim","Não",function(){u(n,!1)})})})}).on("processing.dt",function(){App.bloquear()})},n=function(t,u){App.exibirModalPorRota(App.corrigirPathRota("obter-info-viagem/"+t),function(){$("#bCadastrarReserva").click(function(){var n=$(this).data("id-viagem");i(null,n)});var f=new JustGage({id:"gg1",counter:!0,relativeGaugeSize:!0,valueFontFamily:"Poppins"});$("#gg1 > svg > text").attr("fill","#000");$("#gg1 > svg > text").eq(0).html('<tspan style="font-family:Poppins; font-size:1.0rem; font-weight:500;">Reservas<\/tspan>');$("#tblReserva").DataTable({ajax:{url:App.corrigirPathRota("listar-reservas-por-viagem/"+t),type:"POST",error:function(n){var t=Feedback.converter(n.responseJSON);t.exibirModal()}},columns:[{data:null,title:"Cliente",orderable:!1,className:"dt-body-left all",render:function(n,i,r){return'<span class="m--font-boldest">'+n.cliente.nome+'<\/span> <a href="#" data-id-viagem="'+t+'" data-id-cliente="'+r.idCliente+'" class="alterar-cliente-reserva btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only--sm m-btn--pill" data-container="#portlet-viagem-informacao" data-toggle="m-tooltip" data-placement="right" title="" data-original-title="Alterar informações do cliente"><i class="la la-edit"><\/i><\/a><br/>Celular: '+n.cliente.celularFormatado+"<br/>CPF: "+(n.cliente.cpfFormatado!=null?n.cliente.cpfFormatado:" ")}},{data:null,title:"Dependente",className:"min-tablet",orderable:!1,render:function(n){return n.dependente===null?"":'<span class="m--font-bold">'+n.dependente.nome+"<\/span><br/>Data de nascimento: "+n.dependente.dataNascimentoToString}},{data:"localEmbarque",className:"min-tablet",title:"Embarque",orderable:!1},{data:"localDesembarque",className:"min-tablet",title:"Desembarque",orderable:!1},{data:"observacao",className:"min-tablet",title:"Observação",orderable:!1},{data:"valorPagoFormatado",title:"Valor pago",orderable:!1,className:"min-tablet",visible:$("#iPerfilUsuarioLogado").val()==="Administrador",createdCell:function(n){$(n).attr("class","m--align-right")}},{data:null,className:"td-actions dt-center all",orderable:!1,width:"1px",visible:$("#iPerfilUsuarioLogado").val()==="Administrador",render:function(n,i,r){return'<div class="m-dropdown m-dropdown--inline m-dropdown--up m-dropdown--align-right" m-dropdown-toggle="click" aria-expanded="true"><a href="#" class="btn m-btn m-btn--hover-brand m-btn--icon m-btn--icon-only m-btn--pill m-dropdown__toggle"><i class="la la-ellipsis-h m--font-brand"><\/i><\/a><div class="m-dropdown__wrapper" style="z-index: 101; bottom: -180%; right: 33px !important; width: 150px;"><div class="m-dropdown__inner"><div class="m-dropdown__body"><div class="m-dropdown__content"><ul class="m-nav"><li class="m-nav__section m-nav__section--first"><span class="m-nav__section-text">Reserva<\/span><\/li><li class="m-nav__item"><a href="#" class="alterar-reserva m-nav__link" data-id-reserva="'+r.id+'" data-id-viagem="'+t+'"><i class="m-nav__link-icon la la-edit"><\/i><span class="m-nav__link-text">Alterar<\/span><\/a><\/li><li class="m-nav__item"><a href="#" class="excluir-reserva m-nav__link" data-id-reserva="'+r.id+'" data-id-viagem="'+t+'"><i class="m-nav__link-icon la la-trash"><\/i><span class="m-nav__link-text">Excluir<\/span><\/a><\/li><li class="m-nav__section"><span class="m-nav__section-text">Dependente<\/span><\/li>'+(n.dependente===null?'<li class="m-nav__item"><a href="#" class="cadastrar-dependente m-nav__link" data-id-reserva="'+r.id+'"><i class="m-nav__link-icon la la-plus"><\/i><span class="m-nav__link-text">Cadastrar<\/span><\/a><\/li>':'<li class="m-nav__item"><a href="#" class="alterar-dependente m-nav__link" data-id-reserva="'+r.id+'"><i class="m-nav__link-icon la la-edit"><\/i><span class="m-nav__link-text">Alterar<\/span><\/a><\/li><li class="m-nav__item"><a href="#" class="excluir-dependente m-nav__link" data-id-reserva="'+r.id+'"><i class="m-nav__link-icon la la-trash"><\/i><span class="m-nav__link-text">Excluir<\/span><\/a><\/li>')+"<\/ul><\/div> <\/div><\/div><\/div><\/div>"}}],select:{style:"single",info:!1},autoWidth:!1,info:!1,serverSide:!0,responsive:!0,ordering:!1,searching:!1,paging:!1}).on("draw.dt",function(){mApp.initTooltips();$("a[class*='alterar-cliente-reserva']").each(function(){var t=$(this).data("id-viagem"),i=$(this).data("id-cliente");$(this).click(function(){K2.manterCliente(i,function(){App.ocultarModal(!0);n(t)})})});$("a[class*='cadastrar-dependente']").each(function(){var n=$(this).data("id-reserva");$(this).click(function(){r(n,!0)})});$("a[class*='alterar-dependente']").each(function(){var n=$(this).data("id-reserva");$(this).click(function(){r(n,!1)})});$("a[class*='excluir-dependente']").each(function(){var n=$(this).data("id-reserva");$(this).click(function(){App.exibirConfirm("Deseja realmente excluir o dependente dessa reserva?","Sim","Não",function(){h(n)})})});$("a[class*='alterar-reserva']").each(function(){var n=$(this).data("id-reserva"),t=$(this).data("id-viagem");$(this).click(function(){i(n,t)})});$("a[class*='excluir-reserva']").each(function(){var n=$(this).data("id-reserva"),t=$(this).data("id-viagem");$(this).click(function(){App.exibirConfirm("Deseja realmente excluir essa reserva?","Sim","Não",function(){s(n,t,u)})})})}).on("processing.dt",function(){App.desbloquear()})},!0,"modal-info-viagem")},o=function(){$("#frmProcurarViagem").validate({submitHandler:function(){$("#tblViagensRealizadas").DataTable().ajax.reload()}})},t=function(n){var t=n===null||n===0;App.exibirModalPorRota(t?App.corrigirPathRota("cadastrar-viagem"):App.corrigirPathRota("alterar-viagem/"+n),function(){$("#sMotorista").select2({placeholder:"Selecione um motorista"}).on("change",function(){$(this).valid()});$("#sCarro").select2({placeholder:"Selecione um carro"}).on("change",function(){$(this).valid()});$("#sLocalidadeEmbarque").select2({placeholder:"Selecione a localidade de embarque"}).on("change",function(){$(this).valid()});$("#sLocalidadeDesembarque").select2({placeholder:"Selecione a localidade de desembarque"}).on("change",function(){$(this).valid()});var n=$("#iDataHorarioSaida").data("startdate");$("#iDataHorarioSaida").datetimepicker({todayHighlight:!1,autoclose:!0,pickerPosition:"bottom-left",format:"dd/mm/yyyy hh:ii",startDate:n,language:"pt-BR"}).on("hide",function(){$(this).valid()});$("#iValorPassagem").inputmask("decimal",{radixPoint:",",groupSeparator:".",autoGroup:!0,digits:2,digitsOptional:!1,placeholder:"0",rightAlign:!1,prefix:"",onBeforeMask:function(n){return n}});$("#iTelefoneContratanteFrete").inputmask({mask:"(99) 99999-9999",clearIncomplete:!0});$("#iDocumentoContratanteFrete").inputmask({mask:"9",repeat:14,greedy:!1});$("#iKmInicial").inputmask({mask:"9",repeat:10,greedy:!1});$("#iKmFinal").inputmask({mask:"9",repeat:10,greedy:!1});$("#iKmRodado").inputmask({mask:"9",repeat:10,greedy:!1});$("#frmManterViagem").validate({rules:{iDescricao:{required:!0},iDataHorarioSaida:{required:!0},sMotorista:{required:!0},sCarro:{required:!0},iValorPassagem:{required:!0},sLocalidadeEmbarque:{required:!0},sLocalidadeDesembarque:{required:!0}},invalidHandler:function(n,t){t.errorList[0].element!=null&&t.errorList[0].element.id=="sLocalidadeEmbarque"||t.errorList[0].element.id=="sLocalidadeDesembarque"?$(".nav-tabs li:eq(1) a").tab("show"):$(".nav-tabs li:eq(0) a").tab("show")},submitHandler:function(){var n={Id:$("#iIdViagem").val(),IdCarro:$("#sCarro").val(),IdMotorista:$("#sMotorista").val(),IdLocalidadeEmbarque:$("#sLocalidadeEmbarque").val(),IdLocalidadeDesembarque:$("#sLocalidadeDesembarque").val(),Descricao:$("#iDescricao").val(),DataHorarioSaida:$("#iDataHorarioSaida").val(),ValorPassagem:$("#iValorPassagem").val(),KmInicial:$("#iKmInicial").val(),KmFinal:$("#iKmFinal").val(),KmRodado:$("#iKmRodado").val(),LocaisEmbarque:$("#tLocaisEmbarque").val().split("\n"),LocaisDesembarque:$("#tLocaisDesembarque").val().split("\n"),NomeContratanteFrete:$("#iNomeContratanteFrete").val(),DocumentoContratanteFrete:$("#iDocumentoContratanteFrete").val(),RgContratanteFrete:$("#iRgContratanteFrete").val(),TelefoneContratanteFrete:$("#iTelefoneContratanteFrete").val(),EnderecoContratanteFrete:$("#iEnderecoContratanteFrete").val(),Observacao:$("#tObservacao").val()};App.bloquear();$.post(App.corrigirPathRota(t?"cadastrar-viagem":"alterar-viagem"),{entrada:n}).done(function(n){var t=Feedback.converter(n);t.Tipo.Nome===Tipo.Sucesso?t.exibirModal(function(){$("#tblViagensPrevistas").DataTable().ajax.reload();$("#tblViagensRealizadas").DataTable().ajax.reload();App.ocultarModal()}):t.exibirModal()}).fail(function(n){var t=Feedback.converter(n.responseJSON);t.exibirModal()}).always(function(){App.desbloquear()})}})})},i=function(t,i){var r=t===null||t===0;App.exibirModalPorRota(r?App.corrigirPathRota("cadastrar-reserva/"+i):App.corrigirPathRota("alterar-reserva/"+t),function(){K2.criarSelectClientes("#sClienteReserva",!0);$("#bCadastrarCliente").click(function(){K2.manterCliente(null,function(){K2.criarSelectClientes("#sClienteReserva",!0)})});$("#bAlterarCliente").click(function(){let n=$("#sClienteReserva").val();if(n!=null)K2.manterCliente(n,function(){K2.criarSelectClientes("#sClienteReserva",!0)});else{let n=new Feedback(2,"Selecione primeiro um cliente.");n.exibirModal()}});mApp.initTooltips();$("#iValorPagoReserva").inputmask("decimal",{radixPoint:",",groupSeparator:".",autoGroup:!0,digits:2,digitsOptional:!1,placeholder:"0",rightAlign:!1,prefix:""});$("#iSequenciaEmbarque").inputmask({mask:"9",repeat:2,greedy:!1});$("#frmManterReserva").validate({rules:{sClienteReserva:{required:!0},iSequenciaEmbarque:{required:!0}},submitHandler:function(){var t={Id:$("#iIdReserva").val(),IdViagem:$("#iIdViagem").val(),IdCliente:$("#sClienteReserva").val(),ValorPago:$("#iValorPagoReserva").val(),SequenciaEmbarque:$("#iSequenciaEmbarque").val(),LocalEmbarque:$("#iLocalEmbarqueReserva").val(),LocalDesembarque:$("#iLocalDesembarqueReserva").val(),Observacao:$("#tObservacaoReserva").val()};App.bloquear();$.post(App.corrigirPathRota(r?"cadastrar-reserva":"alterar-reserva"),{entrada:t}).done(function(t){var r=Feedback.converter(t);r.Tipo.Nome===Tipo.Sucesso?r.exibirModal(function(){App.ocultarModal(!0);$("#tblViagensPrevistas").DataTable().ajax.reload();n(i)}):r.exibirModal()}).fail(function(n){var t=Feedback.converter(n.responseJSON);t.exibirModal()}).always(function(){App.desbloquear()})}})},!0,"manter-reserva")},r=function(n,t){App.exibirModalPorRota(t?App.corrigirPathRota("cadastrar-reserva-dependente/"+n):App.corrigirPathRota("alterar-reserva-dependente/"+n),function(){$("#iCpfDependente").inputmask({mask:"999.999.999-99"});$("#iDataNascimentoDependente").inputmask("dd/mm/yyyy",{placeholder:"_"});$("#frmManterReservaDependente").validate({rules:{iNomeDependente:{required:!0},iDataNascimentoDependente:{required:!0}},submitHandler:function(){var n={IdReserva:$("#iIdReserva").val(),Nome:$("#iNomeDependente").val(),DataNascimento:$("#iDataNascimentoDependente").val(),Cpf:$("#iCpfDependente").val(),Rg:$("#iRgDependente").val()};App.bloquear();$.post(App.corrigirPathRota(t?"cadastrar-reserva-dependente":"alterar-reserva-dependente"),{entrada:n}).done(function(n){var t=Feedback.converter(n);t.Tipo.Nome===Tipo.Sucesso?t.exibirModal(function(){$("#tblReserva").DataTable().ajax.reload();App.ocultarModalPorTitulo("manter-dependente")}):t.exibirModal()}).fail(function(n){var t=Feedback.converter(n.responseJSON);t.exibirModal()}).always(function(){App.desbloquear()})}})},!0,"manter-dependente")},u=function(n,t){App.bloquear();$.post(App.corrigirPathRota("excluir-viagem/"+n),function(n){var i=Feedback.converter(n);i.Tipo.Nome===Tipo.Sucesso?i.exibirModal(function(){t?$("#tblViagensPrevistas").DataTable().ajax.reload():$("#tblViagensRealizadas").DataTable().ajax.reload();App.ocultarModal()}):i.exibirModal()}).fail(function(n){var t=Feedback.converter(n.responseJSON);t.exibirModal()})},s=function(t,i,r){App.bloquear();$.post(App.corrigirPathRota("excluir-reserva/"+t),function(t){var u=Feedback.converter(t);u.Tipo.Nome===Tipo.Sucesso?u.exibirModal(function(){App.ocultarModal(!0);n(i,r)}):u.exibirModal()}).fail(function(n){var t=Feedback.converter(n.responseJSON);t.exibirModal()})},h=function(n){App.bloquear();$.post(App.corrigirPathRota("excluir-reserva-dependente/"+n),function(n){var t=Feedback.converter(n);t.Tipo.Nome===Tipo.Sucesso?t.exibirModal(function(){$("#tblReserva").DataTable().ajax.reload()}):t.exibirModal()}).fail(function(n){var t=Feedback.converter(n.responseJSON);t.exibirModal()}).always(function(){App.desbloquear()})};return{init:function(){f();e();$("#bCadastrar").click(function(){t(null)});$("#bProcurar").click(function(){o()});$("#m_accordion_5_item_1_body").on("shown.bs.collapse",function(){$("#tblViagensPrevistas").DataTable().columns.adjust()});$("#m_accordion_5_item_2_body").on("shown.bs.collapse",function(){$("#tblViagensRealizadas").DataTable().columns.adjust()});$("#iProcurarPeriodoSaida").daterangepicker({buttonClasses:"m-btn btn",applyClass:"btn btn-sm m-btn--square btn-info",cancelClass:"btn btn-sm m-btn--square btn-secondary",parentEl:"#modal_Procurar",minDate:moment().startOf("year"),maxDate:moment().subtract(1,"days"),locale:{format:"DD/MM/YYYY",applyLabel:"Aplicar",cancelLabel:"Cancelar",daysOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]}},function(n,t){$("#iProcurarPeriodoSaida .form-control").val(n.format("DD/MM/YYYY")+" até "+t.format("DD/MM/YYYY"));$("#iProcurarDataSaidaInicio").val(n.format("DD/MM/YYYY"));$("#iProcurarDataSaidaFim").val(t.format("DD/MM/YYYY"))});$("#iProcurarPeriodoSaida").on("cancel.daterangepicker",function(){$("#iProcurarPeriodoSaida .form-control").val("");$("#iProcurarDataSaidaInicio").val("");$("#iProcurarDataSaidaFim").val("")});$("#sProcurarMotorista").select2({placeholder:"Selecione um motorista se desejar",allowClear:!0});$("#sProcurarCarro").select2({placeholder:"Selecione um carro se desejar",allowClear:!0});$("#sProcurarLocalidadeEmbarque").select2({placeholder:"Selecione a localidade de embarque se desejar",allowClear:!0});$("#sProcurarLocalidadeDesembarque").select2({placeholder:"Selecione a localidade de desembarque se desejar",allowClear:!0});$("#iProcurarValorPassagem").inputmask("decimal",{radixPoint:",",groupSeparator:".",autoGroup:!0,digits:2,digitsOptional:!1,placeholder:"0",rightAlign:!1,prefix:"",onBeforeMask:function(n){return n}})}}}();jQuery(document).ready(function(){Viagem.init()});