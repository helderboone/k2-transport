var Cliente=function(){var n=function(){App.bloquear();$("#tblCliente").DataTable({serverSide:!0,ajax:{url:App.corrigirPathRota("listar-clientes"),type:"POST",error:function(n){alert(n)},data:function(n){n.Nome="Jorge";n.Email="jlnpinheiro@gmail.com"}},info:!0,columns:[{data:"Nome",title:"Nome",orderable:!0},{data:"Email",title:"E-mail",orderable:!0},{data:"Cpf",title:"CPF",orderable:!1},{data:"Rg",title:"RG",orderable:!1}],order:[1,"asc"],searching:!1,paging:!0,lengthChange:!1,pageLength:25}).on("draw.dt",function(){}).on("processing.dt",function(){App.bloquear()})},t=function(n){var t=n===null||n===0;App.exibirModalPorRota(t?App.corrigirPathRota("cadastrar-cliente"):App.corrigirPathRota("alterar-cliente/"+n),function(){$("#iCpf").inputmask("mm/dd/yyyy",{autoUnmask:!0});$("#iCpf").inputmask({mask:"999.999.999-99"});$("#iCelular").inputmask({mask:"(99) 99999-9999"});$("#iCep").inputmask({mask:"99.999-999"});$("#sEstado").select2({placeholder:"Selecione um estado",dropdownParent:$(".jc-bs3-container")});$("#frmManterCliente").validate({rules:{iNome:{required:!0},iEmail:{required:!0,email:!0},iCpf:{required:!0},iRg:{required:!0},iCelular:{required:!0}},submitHandler:function(){var n={IdCliente:$("#iIdCliente").val(),Nome:$("#iNome").val(),Email:$("#iEmail").val(),Cpf:$("#iCpf").val(),Rg:$("#iRg").val(),Celular:$("#iCelular").val(),Ativo:$("#cAtivo").is(":checked"),Cep:$("#iCep").val(),Endereco:$("#iEndereco").val(),Municipio:$("#iMunicipio").val(),Uf:$("#sEstado").val()};App.bloquear($("#frmManterCliente"));$.post(App.corrigirPathRota(t?"cadastrar-cliente":"alterar-cliente"),{cadastrarClienteEntrada:n}).done(function(n){var t=Feedback.converter(n);t.Tipo.Nome==Tipo.Sucesso?t.exibirModal(function(){alert("Dar refresh aqui.");App.ocultarModal();App.ocultarModal()}):t.exibirModal()}).fail(function(n){var t=Feedback.converter(n.responseJSON);t.exibirModal()}).always(function(){App.desbloquear($("#frmManterCliente"))})}})})};return{init:function(){n();$("#bCadastrar").click(function(){t()})}}}();jQuery(document).ready(function(){Cliente.init()});